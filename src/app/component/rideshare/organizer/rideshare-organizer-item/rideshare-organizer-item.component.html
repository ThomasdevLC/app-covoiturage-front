<button
  class="bg-white shadow-lg rounded-md p-4 w-full text-left cursor-pointer box-border hover:shadow-xl transition-shadow hover:border border-primary focus:outline-none transition:transition-all duration-300"
  (click)="onCheckDetails()"
  aria-label="Voir les dÃ©tails du Rideshare"
>
  <div class="flex justify-between">
    <div class="flex flex-col gap-6">
      <div class="flex items-center gap-2">
        <div class="pb-1">
          <lucide-icon
            name="MapPin"
            [strokeWidth]="1"
            class="w-4 h-4 "
            aria-label="map pin"
          ></lucide-icon>
        </div>
        <p class="text-lg ">{{ rideshare.departureAddress.city }}</p>
        <p class="text-sm font-light text-primary">{{ rideshare.departureTime | dateFormatter }}</p>
      </div>

      <div class="flex items-center gap-2">
        <div class="pb-1">
          <lucide-icon
            name="MapPin"
            [strokeWidth]="1"
            class="w-4 h-4 "
            aria-label="map pin"
          ></lucide-icon>
        </div>
        <p class="text-lg ">{{ rideshare.arrivalAddress.city }}</p>
        <p class="text-sm font-light text-primary">{{ rideshare.arrivalTime | dateFormatter }}</p>
      </div>
    </div>

    <div class="flex flex-col gap-2">
      <div class="flex items-center justify-center gap-2 bg-secondary-muted rounded-xl w-20 ">
        <div class="text-secondary">
          <lucide-icon
            name="Timer"
            [strokeWidth]="1"
            class="w-5 h-5 "
            aria-label="timer"
          ></lucide-icon>
        </div>
        <p class="text-secondary font-light pt-1">{{ rideshare.passengers.length }} </p>
      </div>

      <div class="flex justify-center">
        <div class="relative inline-block h-12 ">
          <lucide-icon
            name="UsersRound"
            [strokeWidth]="1"
            class="w-7 h-7 text-secondary-light mt-4 mr-4"
            aria-label="Users"
          ></lucide-icon>
          <p-badge
            value="{{ rideshare.passengers.length }}"
            class="absolute top-0 right-0 text-xs font-extralight text-neutral "
            severity="warning"
          ></p-badge>
        </div>

      </div>
    </div>
  </div>
</button>
<p-dialog
  [(visible)]="displayDialog"
  modal="true"
  [style]="{ width: '45vw' }"
  [resizable]="false"
  [closable]="true"
  [header]="dialogContentType === 'details' ? 'DÃ©tails du trajet' : 'Modifier le trajet'"
>
  <ng-template pTemplate="content">
    <ng-container *ngIf="dialogContentType === 'details'">
      <app-rideshare-organizer-details
        [rideshare]="detailedRideshare"
        (edit)="onEditRideShare()"
        (cancelled)="onCloseDialog()"
      ></app-rideshare-organizer-details>
    </ng-container>

    <ng-container *ngIf="dialogContentType === 'update'">
      <app-rideshare-organizer-update
        [rideshare]="detailedRideshare"
        (updateCompleted)="onCloseUpdate()"
      ></app-rideshare-organizer-update>
    </ng-container>
  </ng-template>
</p-dialog>
