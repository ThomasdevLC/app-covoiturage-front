<div class="max-w-8xl mx-3 p-10 bg-white shadow-md rounded-lg">
  <h2 class="text-2xl font-bold mb-6">Liste des véhicules de service: </h2>

  <!-- Filtres -->
  <div class="mb-4">
    <label for="brandFilter" class="block text-sm">Marque :</label>
    <input type="text" id="brandFilter" [(ngModel)]="brandFilter" class="w-full border rounded p-2">
  </div>

  <div class="mb-4">
    <label for="numberFilter" class="block text-sm">Numéro d'immatriculation :</label>
    <input type="text" id="numberFilter" [(ngModel)]="numberFilter" class="w-full border rounded p-2">
  </div>

  <button (click)="filterVehicles()"
    class="mb-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Filtrer</button>

  <!-- Message d'erreur -->
  <div *ngIf="errorMessage" class="mb-4 text-red-500 text-sm">
    {{ errorMessage }}
  </div>

  <!-- Table avec des colonnes de largeur réduite -->
  <div *ngIf="vehicles.length > 0">
    <table class="table-auto w-full">
      <thead>
        <tr>
          <th class="px-2 py-2 w-24 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">Immatriculation</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">Marque</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">Modèle</th>
          <th class="px-2 py-2 w-56 text-left text-xs font-medium text-gray-500 uppercase">Catégorie</th>
          <th class="px-2 py-2 w-32 text-left text-xs font-medium text-gray-500 uppercase">Places</th>
          <th class="px-2 py-2 w-56 text-left text-xs font-medium text-gray-500 uppercase">Motorisation</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">CO² par Km</th>
          <th class="px-2 py-2 w-120 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let vehicle of vehicles" class="bg-white">
          <td class="px-2 py-2 w-24"><input type="text" [(ngModel)]="vehicle.id" class="w-full border rounded p-1"></td>
          <td class="px-2 py-2 w-48"><input type="text" [(ngModel)]="vehicle.number" class="w-full border rounded p-1">
          </td>
          <td class="px-2 py-2 w-48"><input type="text" [(ngModel)]="vehicle.brand" class="w-full border rounded p-1">
          </td>
          <td class="px-2 py-2 w-56"><input type="text" [(ngModel)]="vehicle.model" class="w-full border rounded p-1">
          </td>
          <td class="px-2 py-2 w-56">
            <select [(ngModel)]="vehicle.category" class="w-full border rounded p-1">
              <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
            </select>
          </td>
          <td class="px-2 py-2 w-32"><input type="number" [(ngModel)]="vehicle.seats" class="w-full border rounded p-1">
          </td>
          <td class="px-2 py-2 w-56">
            <select [(ngModel)]="vehicle.motor" class="w-full border rounded p-1">
              <option *ngFor="let motor of motors" [value]="motor">{{ motor }}</option>
            </select>
          </td>
          <td class="px-2 py-2 w-48"><input type="number" [(ngModel)]="vehicle.co2PerKm"
              class="w-full border rounded p-1"></td>
          <td class="px-2 py-2 w-48">
            <button [routerLink]="['/company-vehicles/update', vehicle.id]"
              class="bg-yellow-500 text-black px-2 py-1 rounded hover:bg-yellow-600 modif">Modifier</button>
            <button (click)="deleteCompanyVehicles(vehicle.id)"
              class="bg-red-500 text-black px-2 py-1 rounded hover:bg-red-600 supress">Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Message si aucun véhicule n'est trouvé -->
  <div *ngIf="vehicles.length === 0" class="text-gray-500 text-center">
    Aucun véhicule disponible.
  </div>
</div>