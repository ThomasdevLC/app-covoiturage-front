<div class="max-w-8xl mx-3 p-10 bg-white shadow-md rounded-lg">
  <h2 class="text-2xl font-bold mb-6">Liste des véhicules de service: </h2>
  <button routerLink="/company-vehicles/create" class="mb-10">Nouveau véhicule</button>

  <!-- Filtres -->
  <div class="mb-4">
    <label for="brandFilter" class="block text-sm">Marque :</label>
    <input type="text" id="brandFilter" [(ngModel)]="brandFilter" class="w-full border rounded p-2">
  </div>

  <div class="mb-4">
    <label for="numberFilter" class="block text-sm">Numéro d'immatriculation :</label>
    <input type="text" id="numberFilter" [(ngModel)]="numberFilter" class="w-full border rounded p-2">
  </div>

  <button (click)="filterVehicles()"
    class="mb-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Filtrer</button>

  <div *ngIf="errorMessage" class="mb-4 text-red-500 text-sm">
    {{ errorMessage }}
  </div>

  <div *ngIf="vehicles.length > 0">
    <table class="table-auto w-full">
      <thead>
        <tr>
          <th class="px-2 py-2 w-24 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">Immatriculation</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">Marque</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">Modèle</th>
          <th class="px-2 py-2 w-56 text-left text-xs font-medium text-gray-500 uppercase">Catégorie</th>
          <th class="px-2 py-2 w-32 text-left text-xs font-medium text-gray-500 uppercase">Places</th>
          <th class="px-2 py-2 w-56 text-left text-xs font-medium text-gray-500 uppercase">Motorisation</th>
          <th class="px-2 py-2 w-48 text-left text-xs font-medium text-gray-500 uppercase">CO² par Km</th>
          <th class="px-2 py-2 w-120 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let vehicle of vehicles" class="bg-white">
          <td class="px-2 py-2 w-24"><span>{{ vehicle.id }}</span></td>
          <td class="px-2 py-2 w-48"><span>{{ vehicle.number }}</span></td>
          <td class="px-2 py-2 w-48"><span>{{ vehicle.brand }}</span></td>
          <td class="px-2 py-2 w-56"><span>{{ vehicle.model }}</span></td>
          <td class="px-2 py-2 w-56"><span>{{ vehicle.category }}</span></td>
          <td class="px-2 py-2 w-32"><span>{{ vehicle.seats }}</span></td>
          <td class="px-2 py-2 w-56"><span>{{ vehicle.motor }}</span></td>
          <td class="px-2 py-2 w-48"><span>{{ vehicle.co2PerKm }}</span></td>
          <td class="px-2 py-2 w-120">
            <button [routerLink]="['/company-vehicles/update', vehicle.id]"
              class="bg-yellow-500 text-black px-2 py-1 rounded hover:bg-yellow-600 modif">Modifier</button>
            <button (click)="deleteCompanyVehicles(vehicle.id)"
              class="bg-red-500 text-black px-2 py-1 rounded hover:bg-red-600 supress">Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>


  <div *ngIf="vehicles.length === 0" class="text-gray-500 text-center">
    Aucun véhicule disponible.
  </div>
</div>